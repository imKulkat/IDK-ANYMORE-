<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Terms of Service</title>
  <style>
    .modal {
      display: block; /* Always show by default */
      position: fixed;
      z-index: 9999;
      left: 0; top: 0; width: 100%; height: 100%;
      overflow: auto;
      background: rgba(0,0,0,0.6);
    }
    .modal-content {
      background: #fff;
      margin: 10% auto;
      padding: 20px;
      width: 80%;
      max-width: 500px;
      border-radius: 8px;
      position: relative;
      box-shadow: 0 2px 10px rgba(0,0,0,0.3);
    }
    .modal-buttons {
      text-align: right;
      margin-top: 20px;
    }
    .modal-buttons button {
      margin-left: 10px;
    }
    body.modal-open {
      overflow: hidden;
    }
  </style>
</head>
<body class="modal-open">
<!-- TOS Modal (always open on page load) -->
<div id="tos-modal" class="modal">
  <div class="modal-content">
    <h2>Terms of Service</h2>
    <div style="max-height:200px; overflow:auto;">
      <p>
        <!-- Insert your TOS content here -->
        Welcome to Kulkat's server!<br>
        By using this website, you agree to the following terms...
      </p>
    <p> 1. You agree to always act responsibly with all the materials provided</p>
    <p> 2. You agree to take full responsibility for any action you take</p>
    <p> 3. You agree to respect others' privacy, including everything here:</p>
    <a href="FullTOS">Full privacy guide</a>
    <p> You agree to step in and stop any behavior that is prohibited</p>
    <p> You agree to use chat responsably</p>
    <p> You agree to view the full TOS linked below:</p>
    <a href="FullTOS">TOS HERE</a>
    </div>
    <div class="modal-buttons">
      <button onclick="redirectAway()">Disagree</button>
      <button onclick="agreeTOS()">Agree</button>
    </div>
  </div>
</div>

<!-- Registration Form (will only be usable after agreeing) -->
<form id="signup-form" style="display:none;" onsubmit="return checkTOSAgreed()">
  <label>Email: <input type="email" required></label><br><br>
  <label>
    <input type="checkbox" id="tos-checkbox" required>
    I agree to the <a href="#" onclick="openTOSModal(); return false;">Terms of Service</a>
  </label><br><br>
  <button type="submit">Sign Up</button>
</form>

<script>
function redirectAway() {
  // Redirect to another site or an info page
  window.location.href = "https://www.google.com"; // Change as needed
}
function agreeTOS() {
  // Hide modal, allow site usage
  document.getElementById("tos-modal").style.display = "none";
  document.body.classList.remove("modal-open");
  document.getElementById("signup-form").style.display = "block";
}
function openTOSModal() {
  document.getElementById("tos-modal").style.display = "block";
  document.body.classList.add("modal-open");
}
function checkTOSAgreed() {
  if (!document.getElementById("tos-checkbox").checked) {
    alert("You must agree to the Terms of Service to sign up.");
    return false;
  }
  return true;
}
// Prevent closing modal by clicking outside or pressing escape
document.addEventListener('keydown', function(event) {
  if (event.key === "Escape") event.preventDefault();
});
document.getElementById("tos-modal").addEventListener('click', function(event) {
  if (event.target === this) event.stopPropagation();
});
</script>
</body>
</html>
